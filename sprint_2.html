<!DOCTYPE html>
<html>
  <head>
    <title>Sprint2 demo</title>
    <link rel="stylesheet" href="css/ol.css" type="text/css">
    <script src="js/ol.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css">
      <script src="js/bootstrap.min.js"></script>
      <link href="css/bootstrap-switch.css" rel="stylesheet">
      <script src="js/bootstrap-switch.js"></script>
  </head>
  <body onload ="bounceToUS()">
    <div id="map" class="map"></div>
<input type="checkbox" name="my-checkbox" class= "switch" id = "visible" onchange= "oncheck()" checked>
<label class="checkbox-inline"><input type="checkbox" value="">Indiana</label>
<label class="checkbox-inline"><input type="checkbox" value="">Michigan</label>
<label class="checkbox-inline"><input type="checkbox" value="">Ohio</label>
<button type="button" class="btn btn-primary">Report</button>
    <script>
    //initialize switch
    $("input.switch").bootstrapSwitch();
    //store longtitude and latitude information of chicago
    var chicago = ol.proj.transform([-87.623177, 41.881832], 'EPSG:4326', 'EPSG:3857');
    //set up style for vector layer
    var style = new ol.style.Style({
        fill: new ol.style.Fill({
          color: 'rgba(230, 230, 0, 0.2)'
        }),
        stroke: new ol.style.Stroke({
          color: '#D03B8E',
          width: 1
        }),
        text: new ol.style.Text({
          font: '12px Calibri,sans-serif',
          fill: new ol.style.Fill({
            color: '#000'
          }),
          stroke: new ol.style.Stroke({
            color: '#fff',
            width: 3
          })
        })
      });

     //set vector layer for states
       var vectorLayer = new ol.layer.Vector({
        source: new ol.source.Vector({
          url: 'data/geojson/topp.geojson',
          format: new ol.format.GeoJSON()
        }),
        style: function(feature, resolution) {
          style.getText().setText(resolution < 5000 ? feature.get('STATE_NAME') : '');
          return style;
        }
      });
    //set map layer
    var layer = new ol.layer.Tile({
            source: new ol.source.OSM()
          });
    var view = new ol.View({
          center: [0,0],
          zoom: 2
        });
      var map = new ol.Map({
        layers: [
          layer ,vectorLayer
        ],
        loadTilesWhileAnimating: true,
        target: 'map',
       
        view:view
      });
      //check box toggle visibility
 function oncheck(){
   if(document.getElementById('visible').checked) {
    console.log("i am here")
    vectorLayer.setVisible(true);
    }
  else
    {
       vectorLayer.setVisible(false);
       console.log("i am out")
    }    

              }
 function bounce(t) {
        var s = 7.5625, p = 2.75, l;
        if (t < (1 / p)) {
          l = s * t * t;
        } else {
          if (t < (2 / p)) {
            t -= (1.5 / p);
            l = s * t * t + 0.75;
          } else {
            if (t < (2.5 / p)) {
              t -= (2.25 / p);
              l = s * t * t + 0.9375;
            } else {
              t -= (2.625 / p);
              l = s * t * t + 0.984375;
            }
          }
        }
        return l;
      }
      function bounceToUS() {
        var pan = ol.animation.pan({
          duration: 2000,
          easing: bounce,
          source: /** @type {ol.Coordinate} */ (view.getCenter())
        });
        map.beforeRender(pan);
        view.setCenter(chicago);
        view.setZoom(4);
      }

    </script>
  </body>
</html>